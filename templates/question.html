{% extends "base.html" %}

{% block title %}Question {{ question_num }} - Claude Code Quiz{% endblock %}

{% block content %}
<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
    <h1 style="margin: 0;">Question {{ question_num }}</h1>
    <span style="color: #666; font-size: 1.1em;">{{ question_num }} / {{ total_questions }}</span>
</div>

<div class="progress-bar">
    <div class="progress-fill" style="width: {{ progress }}%;"></div>
</div>

<div style="display: flex; gap: 10px; flex-wrap: wrap; margin-bottom: 20px;">
    <span class="topic-badge">{{ question.topic }}</span>
    {% if question.difficulty == 'easy' %}
    <span class="topic-badge" style="background: linear-gradient(135deg, #81c784, #66bb6a);">Easy üü¢</span>
    {% elif question.difficulty == 'medium' %}
    <span class="topic-badge" style="background: linear-gradient(135deg, #ffb74d, #ffa726);">Medium üü°</span>
    {% elif question.difficulty == 'hard' %}
    <span class="topic-badge" style="background: linear-gradient(135deg, #e57373, #ef5350);">Hard üî¥</span>
    {% endif %}
</div>

<div class="question-box">
    <h2 style="line-height: 1.5;">{{ question.question }}</h2>
</div>

<form method="POST" action="/submit" id="quiz-form">
    {% for option in question.options %}
    <label class="option">
        <input type="radio" name="answer" value="{{ loop.index0 }}" required>
        <span>{{ option }}</span>
    </label>
    {% endfor %}

    <button type="submit" class="btn" style="width: 100%; font-size: 1.2em;">
        {% if question_num == total_questions %}
        Finish Quiz üèÅ
        {% else %}
        Next Question ‚Üí
        {% endif %}
    </button>
</form>

<script>
    // Add keyboard navigation
    document.addEventListener('keydown', function(e) {
        if (e.key >= '1' && e.key <= '4') {
            const index = parseInt(e.key) - 1;
            const radios = document.querySelectorAll('input[name="answer"]');
            if (radios[index]) {
                radios[index].checked = true;
            }
        }
    });

    // Visual feedback for selection
    const options = document.querySelectorAll('.option');
    options.forEach(option => {
        option.addEventListener('click', function() {
            options.forEach(opt => opt.style.background = 'white');
            this.style.background = '#f8f9ff';
        });
    });
</script>
{% endblock %}
